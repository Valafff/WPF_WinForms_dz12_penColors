using System.Windows;
using System.Windows.Controls;
using System.Windows.Media;

namespace Dz_12_WPF_PenTest
{
	/// <summary>
	/// Interaction logic for MainWindow.xaml
	/// </summary>
	internal partial class MainWindow : Window
	{
		public MainWindow()
		{
			InitializeComponent();
		}

		private void AlphaChBox_Checked(object sender, RoutedEventArgs e)
		{
			sliderAlpha.IsEnabled = true;
		}
		private void AlphaChBox_Unchecked(object sender, RoutedEventArgs e)
		{
			sliderAlpha.IsEnabled = false;
			((Color)Resources["mainColor"]).Alpha = 255;
		}

		private void RedChBox_Checked(object sender, RoutedEventArgs e)
		{
			sliderRed.IsEnabled = true;
		}

		private void RedChBox_Unchecked(object sender, RoutedEventArgs e)
		{
			sliderRed.IsEnabled = false;
			((Color)Resources["mainColor"]).Red = 0;
		}

		private void GreenChBox_Checked(object sender, RoutedEventArgs e)
		{
			sliderGreen.IsEnabled = true;
		}

		private void GreenChBox_Unchecked(object sender, RoutedEventArgs e)
		{
			sliderGreen.IsEnabled= false;
			((Color)Resources["mainColor"]).Green = 0;
		}

		private void BlueChBox_Checked(object sender, RoutedEventArgs e)
		{
			sliderBlue.IsEnabled = true;
		}

		private void BlueChBox_Unchecked(object sender, RoutedEventArgs e)
		{
			sliderBlue.IsEnabled = false;
			((Color)Resources["mainColor"]).Blue = 0;
		}

		private void btn_Add_Click(object sender, RoutedEventArgs e)
		{
			WrapPanel wrapPanel = new WrapPanel();
			
			TextBlock textBlock = new TextBlock();
			textBlock.Text = ((Color)Resources["mainColor"]).SelectedColor;

			Canvas canvas = new Canvas();
			SolidColorBrush brush = (SolidColorBrush)new BrushConverter().ConvertFromString(((Color)Resources["mainColor"]).SelectedColor);
			canvas.Background = brush;
			canvas.Width = 600;
			canvas.Height = 20;
			canvas.Margin= new Thickness(5);

			Button dellbtn = new Button();
			dellbtn.Content = "Delete";
			dellbtn.Click += (object s, RoutedEventArgs ee) =>
			{
				colorList.Items.Remove(wrapPanel);
			};
			wrapPanel.Children.Add(textBlock);
			wrapPanel.Children.Add(canvas);
			wrapPanel.Children.Add(dellbtn);
			colorList.Items.Add(wrapPanel);
		}
	}
}
